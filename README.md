# API-сервис сокращения ссылок

## Описание проекта

Этот проект представляет собой API-сервис для сокращения ссылок, который позволяет пользователям создавать короткие URL-адреса, управлять ими и отслеживать статистику переходов.

## Как это работает

Пользователь отправляет POST-запрос на создание короткой ссылки, и сервис генерирует уникальный короткий код для данной ссылки. 
При переходе по короткому URL пользователь будет перенаправлен на оригинальный длинный URL. 

## Функционал сервиса

### Функции
![image](https://github.com/user-attachments/assets/7346b1a1-3442-46be-af62-1dcbd5fff7a9)

   - **POST /links/shorten** - создаёт короткую кастомную ссылку, с передачей параметров `short_code` - для создания кастомной ссылки и `expires_at` для указания даты удаления ссылки
   - **GET /links/{short_code}** - перенаправляет на оригинальный URL.
   - **DELETE /links/{short_code}** - удаляет связь.
   - **PUT /links/{short_code}** - обновляет URL.
   - **GET /links/{short_code}/stats** - отображает оригинальный URL, дату создания, количество переходов и дату последнего использования.
   - **GET /links/search?original_url={url}** - осуществляет поиск ссылки по оригинальному URL

### Регистрация
Пользователи должны зарегистрироваться для управления ссылками. Изменение и удаление ссылок доступны только зарегистрированным пользователям.

### База данных и кэширование
- Используйте PostgreSQL как основную базу данных для хранения ссылок.
- Используйте Redis для кэширования данных, таких как самые популярные ссылки.
- Настройте очистку кэша при обновлении или удалении ссылок.

## Примеры запросов

1. Создание короткой ссылки
   ```
   POST /links/shorten
   {
       "long_url": "https://example.com",
       "custom_alias": "myCustomAlias",
       "expires_at": "2023-12-31 23:59"
   }
   ```

2. Получение статистики по ссылке
   ```
   GET /links/myCustomAlias/stats
   ```

3. Поиск ссылки по оригинальному URL
   ```
   GET /links/search?original_url=https://example.com
   ```

## Инструкция по запуску

1. Клонируйте репозиторий:
   ```
   git clone https://github.com/ваша-учетная-запись/имя-репозитория.git
   ```
   
2. Перейдите в директорию проекта:
   ```
   cd имя-репозитория
   ```

3. Убедитесь, что Docker и Docker Compose установлены на вашем компьютере.

4. Запустите сервис:
   ```
   docker-compose up --build
   ```

Теперь сервис должен быть доступен на `http://localhost:5000`.

## Описание базы данных

Сервис использует PostgreSQL для хранения информации о коротких и длинных ссылках, статистики переходов и пользовательских данных. Структура базы данных включает таблицы для ссылок, пользователей и статистики.

